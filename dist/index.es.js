import Tag from"nunjucks-tag";import ViewNunjucks from"think-view-nunjucks";import nunjucks from"nunjucks";import helper from"think-helper";class RenderExtension extends Tag{constructor(){super("custom")}render(e,n,r){return super.render(e,n,r)}}class WebpackLoader extends ViewNunjucks{constructor(e,n,r){super(e,n,r)}render(){const e=this.viewFile,n=this.handleOptions,r=this.config,t=(void 0===r?{}:r).viewPath;let s="",i=void 0;e.indexOf(t)?s=n:(s=t,i=n);const o=nunjucks.configure(s,i);return o.addExtension("custom",new RenderExtension),helper.promisify(o.render,o)(e,this.viewData)}}export default WebpackLoader;
